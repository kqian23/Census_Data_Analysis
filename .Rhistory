census_2010_gathered <- census_2010 %>%   # reconstruct the structure
gather(key = race_type, value = population_2010, -c(1,2,3,11:13)) %>%
select(c(1,3,7,8)) %>%
mutate(percentage_in_region_2010 = round(population_2010/total_population_2010 * 100, 2)) %>%
select(-c(2,4))
# join two data frames
census_joined <- census_2000_gathered %>%
mutate(percentage_in_region_2010 = census_2010_gathered$percentage_in_region_2010)
# **********************************************************************
# Prepare for Trend Plot
census_joined <- census_joined %>%
mutate(percentage_changed = percentage_in_region_2010 - percentage_in_region_2000)
census_2010 <- census_all %>%
select(48:72) %>%
select(-c(2,10:22))%>%
mutate(region_name = neigh_info$NEIGH_NAME, region_num = neigh_info$NEIGH_NO)  # add the neighborhood columns
census_2010 <- census_2010[c(12,13,1:11)]  # reorder the columns
# rename the columns
colnames(census_2010)[3:13] <- c("total_population_2000", "white", "black", "american.indian_alaska.native",
"asian", "native.awaiian_pacific.islander", "other_single_race",
"two_or_more_races", "total_housing_units", "occupied_housing_units", "vacant_housing_units")
census_2010 <- census_all %>%
select(48:72) %>%
select(-c(2,10:22))%>%
mutate(region_name = neigh_info$NEIGH_NAME, region_num = neigh_info$NEIGH_NO)  # add the neighborhood columns
census_2010 <- census_2010[c(12,13,1:11)]  # reorder the columns
# rename the columns
colnames(census_2010)[3:13] <- c("total_population_2000", "white", "black", "american.indian_alaska.native",
"asian", "native.awaiian_pacific.islander", "other_single_race",
"two_or_more_races", "total_housing_units", "occupied_housing_units", "vacant_housing_units")
census_2000_gathered <- census_2000 %>%   # reconstruct the structure
gather(key = race_type, value = population_2000, -c(1,2,3,11:13)) %>%
select(c(1,3,7,8)) %>%
mutate(percentage_in_region_2000 = round(population_2000/total_population_2000 * 100, 2)) %>%
select(-c(2,4))
# join two data frames
census_joined <- census_2000_gathered %>%
mutate(percentage_in_region_2010 = census_2010_gathered$percentage_in_region_2010)
census_2010_gathered <- census_2010 %>%   # reconstruct the structure
gather(key = race_type, value = population_2010, -c(1,2,3,11:13)) %>%
select(c(1,3,7,8)) %>%
mutate(percentage_in_region_2010 = round(population_2010/total_population_2010 * 100, 2)) %>%
select(-c(2,4))
View(census_2010)
library("dplyr")
library("tidyr")
library("shiny")
# read raw data from xlsx file in the data folder
library(readxl)
census_all <- read_excel("data/Census 2010 Urban Centers and Villages Change from 1990 (1).xlsx",
skip = 5)
census_all <- census_all %>% slice(1:43)    # remove description at the bottom
# split the data by years and then clean them up
# **********************************************************************
neigh_info <- census_all %>%    # extract first two columns
select(1:2)
# extract columns of 1990 from raw data set
census_1990 <- census_all %>%
select(1:22) %>%
select(c(1:8,20:22))
colnames(census_1990) <- c("total_population", "white", "black", "american.indian_eskimo.aleut",
"asian_or_pacific_islander", "other_race", "total_housing_units", "occupied_housing_units", "vacant_housing_units")
# extract columns of 2000 from raw data set and then reconstruct structure
census_2000 <- census_all %>%
select(23:47) %>%
select(-c(2,10:22)) %>%
mutate(region_name = neigh_info$NEIGH_NAME, region_num = neigh_info$NEIGH_NO)   # add the neighborhood columns
census_2000 <- census_2000[c(12,13,1:11)]   # reorder the columns
# rename the columns
colnames(census_2000)[3:13] <- c("total_population_2000", "white", "black", "american.indian_alaska.native",
"asian", "native.awaiian_pacific.islander", "other_single_race",
"two_or_more_races", "total_housing_units", "occupied_housing_units", "vacant_housing_units")
# extract columns of 2010 from raw data set and then reconstruct structure
census_2010 <- census_all %>%
select(48:72) %>%
select(-c(2,10:22))%>%
mutate(region_name = neigh_info$NEIGH_NAME, region_num = neigh_info$NEIGH_NO)  # add the neighborhood columns
census_2010 <- census_2010[c(12,13,1:11)]  # reorder the columns
# rename the columns
colnames(census_2010)[3:13] <- c("total_population_2010", "white", "black", "american.indian_alaska.native",
"asian", "native.awaiian_pacific.islander", "other_single_race",
"two_or_more_races", "total_housing_units", "occupied_housing_units", "vacant_housing_units")
# **********************************************************************
# Prepare Data for different visualizations
# Prepare for Bar Chart
census_2000_gathered <- census_2000 %>%   # reconstruct the structure
gather(key = race_type, value = population_2000, -c(1,2,3,11:13)) %>%
select(c(1,3,7,8)) %>%
mutate(percentage_in_region_2000 = round(population_2000/total_population_2000 * 100, 2)) %>%
select(-c(2,4))
census_2010_gathered <- census_2010 %>%   # reconstruct the structure
gather(key = race_type, value = population_2010, -c(1,2,3,11:13)) %>%
select(c(1,3,7,8)) %>%
mutate(percentage_in_region_2010 = round(population_2010/total_population_2010 * 100, 2)) %>%
select(-c(2,4))
# join two data frames
census_joined <- census_2000_gathered %>%
mutate(percentage_in_region_2010 = census_2010_gathered$percentage_in_region_2010)
# **********************************************************************
# Prepare for Trend Plot
census_joined <- census_joined %>%
mutate(percentage_changed = percentage_in_region_2010 - percentage_in_region_2000)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
library("shiny")
library("ggplot2")
# library("leaflet")
# library("maps")
# import r file from same folder
source("analysis.R")
source("server.R")
neigh_name <- census_2010 %>% select(1)
ui <- navbarPage("Explore Seattle Census Data",
tabPanel("Introduction"),
navbarMenu("Explore Race Statistics",
tabPanel("Explore by Region",
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "selected_region", label = "Region", choices = neigh_name)
),
mainPanel(
tabsetPanel(type = "tabs",
tabPanel("Race Distribution each Year",
textOutput("bar_chart_text"),
br(),
textOutput("bar_chart_intro_2000"),
plotOutput("bar_chart_2000"),
br(),
textOutput("bar_chart_intro_2010"),
plotOutput("bar_chart_2010")),
tabPanel("Race Percentage Change",
textOutput("change_text"),
br(),
plotOutput("change_plot")))
)
)
),
tabPanel("Explore by Race")
),
tabPanel("Race and Housing"),
tabPanel("Evaluation"),
tabPanel("About")
)
shinyApp(ui, server)
